---
interface Props {
  code: string;
  language?: string;
  codeWidth?: string;
  rightAlign?: string;
  gap?: string;
  alwaysStacked?: boolean;
}

import CodePreview from "./CodePreview.astro";

const {
  code,
  language = "typescript",
  codeWidth = "w-full md:w-2/5",
  rightAlign = "mx-auto my-auto",
  gap = "gap-4",
  alwaysStacked = false
} = Astro.props;

const flexDirection = alwaysStacked
  ? "flex-col"
  : "flex-col md:flex-row";
---

<div class={`flex ${flexDirection} ${gap}`}>
  <div class={`${alwaysStacked ? "w-full" : "w-full md:w-1/2"} ${rightAlign}`}>
    <slot />
  </div>
  <div class={`${alwaysStacked ? "w-full mt-6" : codeWidth}`}>
    <CodePreview code={code} language={language} />
  </div>
</div>
